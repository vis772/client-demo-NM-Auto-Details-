<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NM Auto Details — Premium Detailing in New Mexico</title>
  <meta name="description" content="NM Auto Details offers premium auto detailing in New Mexico. Interior, exterior, and full packages with easy booking and live open hours." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Plus Jakarta Sans', 'ui-sans-serif', 'system-ui', 'sans-serif'],
            serif: ['Playfair Display', 'ui-serif', 'Georgia', 'serif'],
          },
          colors: {
            luxe: {
              gold: '#D4AF37',
              goldSoft: '#E9CA6B',
              goldDark: '#A78928',
              night: '#0B1020',
              ink: '#0f172a',
              slate: '#111827'
            }
          },
          boxShadow: {
            glow: '0 10px 30px rgba(212,175,55,0.25)',
          },
          backgroundImage: {
            'hero-grad': 'radial-gradient(1200px 600px at 80% -10%, rgba(212,175,55,.14), transparent 60%), radial-gradient(800px 500px at -10% -20%, rgba(66,153,225,.15), transparent 60%), linear-gradient(180deg, #0B1020 0%, #0f172a 100%)',
            'card-grad': 'linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02))',
          }
        }
      }
    }
  </script>
  <style>
    .gold-hover:hover { filter: drop-shadow(0 6px 18px rgba(212,175,55,0.35)); }
    .backdrop-glass { backdrop-filter: saturate(120%) blur(8px); }
    .no-scroll { overflow: hidden; }
    .hero-img {
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
    }
    .owner-badge {
      position: fixed; bottom: 16px; right: 16px; z-index: 60;
    }
    .admin-drawer {
      transition: transform .3s ease;
      transform: translateY(100%);
    }
    .admin-drawer.open {
      transform: translateY(0);
    }
  </style>
</head>
<body class="bg-luxe-ink text-white antialiased">
  <!-- Top Bar with Open Status -->
  <div class="w-full bg-luxe-slate/60 backdrop-glass border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-2 flex items-center justify-between text-sm">
      <div class="flex items-center gap-2">
        <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-emerald-500/20 text-emerald-300" id="openPill">
          <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
          <span id="openText">Checking status…</span>
        </span>
        <span class="hidden sm:inline text-white/70">New Mexico • Mountain Time</span>
      </div>
      <div class="flex items-center gap-3">
        <a class="text-white/80 hover:text-white transition" id="topPhoneLink" href="tel:+15056887487">Call: (505) 688-7487</a>
        <button id="copyPhone" class="text-luxe-gold hover:text-luxe-goldSoft transition">Copy</button>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-40 bg-luxe-ink/85 backdrop-glass border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between">
      <a href="#home" class="flex items-center gap-3 group" id="secretLogo">
        <span class="relative w-10 h-10 rounded-full bg-gradient-to-br from-luxe-gold/20 to-luxe-gold/5 border border-luxe-gold/30 flex items-center justify-center shadow-glow">
          <svg width="26" height="18" viewBox="0 0 26 18" fill="none" class="text-luxe-gold">
            <path d="M2 11c2.5-4 7-6 12-6 2.5 0 5 .5 7 1.5 1.5.7 3 2.5 3 4.5 0 1-.7 2-2 2H2.5C1.7 13 1 12.3 1 11.5 1 11.3 1.1 11 2 11Z" fill="currentColor" opacity="0.8"/>
            <circle cx="8" cy="13" r="2" fill="currentColor"/>
            <circle cx="18" cy="13" r="2" fill="currentColor"/>
          </svg>
        </span>
        <div>
          <div class="font-extrabold tracking-wide text-white text-lg leading-5" id="bizName">NM Auto Details</div>
          <div class="text-xs text-white/60">Premium Detailing • New Mexico</div>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-6">
        <a href="#services" class="text-white/80 hover:text-white transition">Services</a>
        <a href="#quote" class="text-white/80 hover:text-white transition">Quick Quote</a>
        <a href="#packages" class="text-white/80 hover:text-white transition">Packages</a>
        <a href="#gallery" class="text-white/80 hover:text-white transition">Gallery</a>
        <a href="#reviews" class="text-white/80 hover:text-white transition">Reviews</a>
        <a href="#hours" class="text-white/80 hover:text-white transition">Hours</a>
        <a href="#contact" class="text-white/80 hover:text-white transition">Contact</a>
      </nav>

      <div class="flex items-center gap-3">
        <a id="headerCallBtn" href="tel:+15056887487" class="hidden sm:inline-flex items-center gap-2 bg-luxe-gold text-black font-semibold px-4 py-2 rounded-full shadow-glow gold-hover transition">
          <svg width="16" height="16" viewBox="0 0 24 24" class="text-black"><path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C11.07 22 2 12.93 2 2a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z"/></svg>
          Call Now
        </a>
        <button class="inline-flex md:hidden p-2 rounded-md bg-white/5 hover:bg-white/10 transition" id="menuToggle" aria-label="Open menu">
          <svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
        </button>
        <button class="hidden md:inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/15 hover:bg-white/5 transition book-btn" data-service="">
          Book Online
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="md:hidden hidden border-t border-white/10 bg-luxe-ink/95">
      <div class="px-4 py-3 flex flex-col gap-3">
        <a href="#services" class="text-white/90 hover:text-white transition">Services</a>
        <a href="#quote" class="text-white/90 hover:text-white transition">Quick Quote</a>
        <a href="#packages" class="text-white/90 hover:text-white transition">Packages</a>
        <a href="#gallery" class="text-white/90 hover:text-white transition">Gallery</a>
        <a href="#reviews" class="text-white/90 hover:text-white transition">Reviews</a>
        <a href="#hours" class="text-white/90 hover:text-white transition">Hours</a>
        <a href="#contact" class="text-white/90 hover:text-white transition">Contact</a>
        <button class="mt-1 inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/15 hover:bg-white/5 transition book-btn" data-service="">
          Book Online
        </button>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="relative bg-hero-grad">
    <div class="absolute inset-0 pointer-events-none">
      <svg class="absolute right-[-120px] top-10 w-[420px] opacity-30" viewBox="0 0 400 400" fill="none">
        <circle cx="200" cy="200" r="160" stroke="#D4AF37" stroke-opacity="0.3" stroke-width="1"/>
        <circle cx="200" cy="200" r="120" stroke="#D4AF37" stroke-opacity="0.25" stroke-width="1"/>
        <circle cx="200" cy="200" r="80" stroke="#D4AF37" stroke-opacity="0.2" stroke-width="1"/>
      </svg>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 pt-14 pb-16 md:pb-24 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <div class="inline-flex items-center gap-2 text-xs uppercase tracking-widest text-luxe-gold/80 mb-4">
          <span class="w-1.5 h-1.5 rounded-full bg-luxe-gold"></span> Albuquerque & Surrounding Areas
        </div>
        <h1 class="font-serif text-4xl sm:text-5xl md:text-6xl leading-tight">
          Showroom Shine,<br class="hidden sm:block" />
          <span class="text-luxe-gold">Every Single Time.</span>
        </h1>
        <p class="mt-5 text-white/70 max-w-xl">
          Premium interior, exterior, and full-service detailing in New Mexico. Friendly, meticulous, and professional—your car will love the treatment.
        </p>

        <div class="mt-8 flex flex-wrap items-center gap-3">
          <button class="book-btn inline-flex items-center gap-2 bg-luxe-gold text-black font-semibold px-5 py-3 rounded-full shadow-glow gold-hover transition" data-service="">
            <svg width="18" height="18" viewBox="0 0 24 24" class="text-black"><path fill="currentColor" d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 14H5V10h14v8z"/></svg>
            Book Now
          </button>
          <a id="heroCallBtn" href="tel:+15056887487" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/15 hover:bg-white/5 transition">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M6.62 10.79a15.05 15.05 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V21a1 1 0 01-1 1C11.07 22 2 12.93 2 2a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z"/></svg>
            Call (505) 688-7487
          </a>
          <a href="#quote" class="inline-flex items-center gap-2 text-white/80 hover:text-white transition">
            <span>Get a Quick Quote</span>
            <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
          </a>
        </div>

        <div class="mt-8 grid grid-cols-2 sm:grid-cols-4 gap-3 text-xs text-white/70">
          <div class="flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2">
            <svg width="18" height="18" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M12 17.27L18.18 21l-1.64-7.03L22 9.25l-7.19-.61L12 2 9.19 8.64 2 9.25l5.46 4.72L5.82 21z"/></svg>
            5-Star Service
          </div>
          <div class="flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2">
            <svg width="18" height="18" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M12 2L1 21h22L12 2zm0 3.84L19.53 19H4.47L12 5.84zM11 10h2v5h-2zm0 6h2v2h-2z"/></svg>
            Fully Insured
          </div>
          <div class="flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2">
            <svg width="18" height="18" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M12 22a2 2 0 01-2-2h4a2 2 0 01-2 2zm6-6V9a6 6 0 10-12 0v7l-2 2v1h16v-1l-2-2z"/></svg>
            Careful & Trusted
          </div>
          <div class="flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2">
            <svg width="18" height="18" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M12 2a5 5 0 015 5v2h1a3 3 0 013 3v7H3v-7a3 3 0 013-3h1V7a5 5 0 015-5z"/></svg>
            Friendly Team
          </div>
        </div>
      </div>

      <!-- Hero Visual with replaceable image -->
      <div class="relative">
        <div class="relative rounded-2xl border border-white/10 overflow-hidden shadow-xl">
          <div id="heroImage" class="hero-img aspect-[16/10] sm:aspect-[16/9] relative flex items-center justify-center bg-white/5">
            <!-- Fallback SVG if no hero image is set -->
            <svg viewBox="0 0 900 450" class="w-full h-full">
              <defs>
                <linearGradient id="paint" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#D4AF37"/>
                  <stop offset="1" stop-color="#E9CA6B"/>
                </linearGradient>
              </defs>
              <rect width="900" height="450" fill="#0B1020"/>
              <g opacity="0.9">
                <path d="M120 280c60-110 220-160 380-160 84 0 168 16 224 48 44 24 72 58 72 85 0 21-14 36-34 38l-615 6c-16 0-27-11-27-24 0-3 0-5 0-7z" fill="url(#paint)" fill-opacity="0.25"/>
                <path d="M170 280c40-82 176-118 330-118 67 0 135 12 180 35 35 18 57 42 57 62 0 14-9 24-23 25l-516 4c-12 0-20-8-20-18 0-2 0-4 0-6z" fill="url(#paint)" fill-opacity="0.35"/>
                <circle cx="330" cy="300" r="32" fill="#D4AF37"/>
                <circle cx="640" cy="300" r="32" fill="#D4AF37"/>
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section id="services" class="py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center max-w-3xl mx-auto">
        <h2 class="font-serif text-3xl sm:text-4xl">Services</h2>
        <p class="mt-3 text-white/70">Choose what your vehicle needs today.</p>
      </div>

      <div class="mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="rounded-2xl border border-white/10 bg-card-grad p-6 hover:shadow-xl hover:shadow-black/20 transition">
          <div class="flex items-center gap-3">
            <span class="w-11 h-11 rounded-xl bg-luxe-gold/15 border border-luxe-gold/30 flex items-center justify-center">
              <svg width="22" height="22" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M3 12h18v2H3zM4 8h16v2H4zM6 4h12v2H6z"/></svg>
            </span>
            <div>
              <h3 class="font-bold">Exterior Detail</h3>
              <p class="text-white/60 text-sm">Foam wash, decon, protection.</p>
            </div>
          </div>
          <ul class="mt-4 text-sm text-white/70 space-y-2">
            <li>Hand wash & dry</li>
            <li>Wheel & tire care</li>
            <li>Wax or sealant</li>
          </ul>
          <div class="mt-6 flex items-center justify-between">
            <span class="text-white/60 text-sm">From $99</span>
            <button class="book-btn text-luxe-gold hover:text-luxe-goldSoft transition" data-service="Exterior Detail">Book</button>
          </div>
        </div>

        <div class="rounded-2xl border border-white/10 bg-card-grad p-6 hover:shadow-xl hover:shadow-black/20 transition">
          <div class="flex items-center gap-3">
            <span class="w-11 h-11 rounded-xl bg-luxe-gold/15 border border-luxe-gold/30 flex items-center justify-center">
              <svg width="22" height="22" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M12 3l4 8H8l4-8zm0 18l-4-8h8l-4 8z"/></svg>
            </span>
            <div>
              <h3 class="font-bold">Interior Detail</h3>
              <p class="text-white/60 text-sm">Deep clean and protect.</p>
            </div>
          </div>
          <ul class="mt-4 text-sm text-white/70 space-y-2">
            <li>Vacuum & wipe down</li>
            <li>Crevices & vents</li>
            <li>Spot treatment</li>
          </ul>
          <div class="mt-6 flex items-center justify-between">
            <span class="text-white/60 text-sm">From $129</span>
            <button class="book-btn text-luxe-gold hover:text-luxe-goldSoft transition" data-service="Interior Detail">Book</button>
          </div>
        </div>

        <div class="rounded-2xl border border-white/10 bg-card-grad p-6 hover:shadow-xl hover:shadow-black/20 transition">
          <div class="flex items-center gap-3">
            <span class="w-11 h-11 rounded-xl bg-luxe-gold/15 border border-luxe-gold/30 flex items-center justify-center">
              <svg width="22" height="22" viewBox="0 0 24 24" class="text-luxe-gold"><path fill="currentColor" d="M4 6h16v12H4z"/></svg>
            </span>
            <div>
              <h3 class="font-bold">Full Detail</h3>
              <p class="text-white/60 text-sm">Complete inside & out.</p>
            </div>
          </div>
          <ul class="mt-4 text-sm text-white/70 space-y-2">
            <li>Exterior + Interior</li>
            <li>Trim & glass care</li>
            <li>Final inspection</li>
          </ul>
          <div class="mt-6 flex items-center justify-between">
            <span class="text-white/60 text-sm">From $219</span>
            <button class="book-btn text-luxe-gold hover:text-luxe-goldSoft transition" data-service="Full Detail">Book</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Quote Estimator -->
  <section id="quote" class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="rounded-3xl border border-white/10 bg-gradient-to-r from-white/5 to-white/0 p-6 md:p-10">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h2 class="font-serif text-3xl sm:text-4xl">Quick Quote</h2>
            <p class="text-white/70 mt-2">Get an instant estimate. Final pricing depends on size and condition.</p>

            <div class="mt-6 space-y-4">
              <div>
                <label class="text-sm text-white/70">Service</label>
                <select id="qqService" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2">
                  <option>Exterior Detail</option>
                  <option>Interior Detail</option>
                  <option>Full Detail</option>
                </select>
              </div>
              <div>
                <label class="text-sm text-white/70">Vehicle Type</label>
                <select id="qqType" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2">
                  <option>Sedan</option>
                  <option>SUV</option>
                  <option>Truck</option>
                  <option>Van</option>
                </select>
              </div>
              <div>
                <label class="text-sm text-white/70">Condition</label>
                <select id="qqCondition" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2">
                  <option>Clean</option>
                  <option>Average</option>
                  <option>Heavy</option>
                </select>
              </div>

              <div>
                <div class="text-sm text-white/70 mb-2">Add-ons</div>
                <div class="grid grid-cols-2 gap-2 text-sm">
                  <label class="flex items-center gap-2 bg-white/5 border border-white/10 rounded-xl px-3 py-2">
                    <input type="checkbox" class="accent-luxe-gold" data-add="Pet Hair" value="35"> Pet hair
                  </label>
                  <label class="flex items-center gap-2 bg-white/5 border border-white/10 rounded-xl px-3 py-2">
                    <input type="checkbox" class="accent-luxe-gold" data-add="Engine Bay" value="25"> Engine bay
                  </label>
                  <label class="flex items-center gap-2 bg-white/5 border border-white/10 rounded-xl px-3 py-2">
                    <input type="checkbox" class="accent-luxe-gold" data-add="Clay Bar" value="40"> Clay bar
                  </label>
                  <label class="flex items-center gap-2 bg-white/5 border border-white/10 rounded-xl px-3 py-2">
                    <input type="checkbox" class="accent-luxe-gold" data-add="Headlight Restore" value="69"> Headlight restore
                  </label>
                </div>
              </div>

              <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
                <div class="text-white/60 text-sm">Estimated Price</div>
                <div class="text-3xl font-extrabold mt-1" id="qqPrice">$0</div>
                <div class="text-white/60 text-sm mt-1" id="qqTime">Estimated time: —</div>
              </div>

              <div class="flex flex-wrap gap-3">
                <button id="applyToBooking" class="inline-flex items-center gap-2 bg-luxe-gold text-black font-semibold px-5 py-3 rounded-full shadow-glow gold-hover transition">
                  Use This in Booking
                </button>
                <button class="book-btn inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/15 hover:bg-white/5 transition" data-service="">
                  Book Now
                </button>
              </div>
            </div>
          </div>

          <!-- Visual -->
          <div class="rounded-2xl border border-white/10 overflow-hidden bg-white/5">
            <div class="aspect-[16/12] flex items-center justify-center">
              <svg viewBox="0 0 900 600" class="w-full h-full">
                <rect width="900" height="600" fill="#0b1020"/>
                <g>
                  <rect x="120" y="220" width="660" height="160" rx="24" fill="#D4AF37"/>
                  <circle cx="260" cy="420" r="36" fill="#E9CA6B"/>
                  <circle cx="640" cy="420" r="36" fill="#E9CA6B"/>
                </g>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Packages -->
  <section id="packages" class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex items-end justify-between flex-wrap gap-4">
        <div>
          <h2 class="font-serif text-3xl sm:text-4xl">Packages</h2>
          <p class="text-white/70 mt-2">Transparent, fair pricing. We’ll confirm final cost after inspection.</p>
        </div>
        <div class="text-sm text-white/60">
          Not sure? <button class="underline hover:text-white transition book-btn" data-service="">We’ll guide you</button>
        </div>
      </div>

      <div class="mt-8 grid md:grid-cols-3 gap-6">
        <div class="rounded-2xl border border-white/10 bg-card-grad p-6">
          <div class="flex items-center justify-between">
            <h3 class="font-bold text-lg">Express</h3>
            <span class="text-white/60 text-sm">1–2 hrs</span>
          </div>
          <p class="text-white/70 text-sm mt-1">Quick refresh for well-kept vehicles.</p>
          <div class="mt-5 text-3xl font-extrabold">$99+</div>
          <ul class="mt-5 text-sm text-white/70 space-y-2">
            <li>Exterior wash</li>
            <li>Interior vacuum</li>
            <li>Windows & tire shine</li>
          </ul>
          <button class="mt-6 w-full book-btn bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl py-3 transition" data-service="Express Package">Book Express</button>
        </div>

        <div class="rounded-2xl border border-luxe-gold/40 bg-gradient-to-b from-luxe-gold/10 to-transparent p-6 shadow-glow">
          <div class="flex items-center justify-between">
            <h3 class="font-bold text-lg">Full Detail</h3>
            <span class="text-white/60 text-sm">3–5 hrs</span>
          </div>
          <p class="text-white/70 text-sm mt-1">Inside and out with protection.</p>
          <div class="mt-5 text-3xl font-extrabold text-luxe-gold">$219+</div>
          <ul class="mt-5 text-sm text-white/80 space-y-2">
            <li>Paint decon + sealant</li>
            <li>Deep interior clean</li>
            <li>Trim & glass care</li>
          </ul>
          <button class="mt-6 w-full book-btn bg-luxe-gold text-black font-semibold rounded-xl py-3 hover:opacity-95 transition" data-service="Full Detail Package">Book Full Detail</button>
        </div>

        <div class="rounded-2xl border border-white/10 bg-card-grad p-6">
          <div class="flex items-center justify-between">
            <h3 class="font-bold text-lg">Premium</h3>
            <span class="text-white/60 text-sm">Full day</span>
          </div>
          <p class="text-white/70 text-sm mt-1">For vehicles needing extra love.</p>
          <div class="mt-5 text-3xl font-extrabold">$399+</div>
          <ul class="mt-5 text-sm text-white/70 space-y-2">
            <li>Correction & protection</li>
            <li>Interior restoration</li>
            <li>Premium finishes</li>
          </ul>
          <button class="mt-6 w-full book-btn bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl py-3 transition" data-service="Premium Package">Book Premium</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery (your images) -->
  <section id="gallery" class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex items-end justify-between flex-wrap gap-4">
        <div>
          <h2 class="font-serif text-3xl sm:text-4xl">Gallery</h2>
          <p class="text-white/70 mt-2">Before & afters and proud finishes.</p>
        </div>
        <div class="text-sm text-white/60">Add your photos using the Owner Panel.</div>
      </div>

      <div id="galleryGrid" class="mt-8 grid md:grid-cols-3 gap-6">
        <!-- Images render here -->
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section id="reviews" class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center max-w-3xl mx-auto">
        <h2 class="font-serif text-3xl sm:text-4xl">Reviews</h2>
        <p class="mt-3 text-white/70">Real words from New Mexico drivers.</p>
      </div>

      <div class="mt-10 relative max-w-4xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-card-grad p-6 md:p-8">
          <div class="flex items-center gap-1 text-luxe-gold">
            <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l2.9 6.1L22 9.3l-5 4.9 1.2 6.8L12 18.8 5.8 21l1.2-6.8L2 9.3l7.1-1.2L12 2z"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l2.9 6.1L22 9.3l-5 4.9 1.2 6.8L12 18.8 5.8 21l1.2-6.8L2 9.3l7.1-1.2L12 2z"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l2.9 6.1L22 9.3l-5 4.9 1.2 6.8L12 18.8 5.8 21l1.2-6.8L2 9.3l7.1-1.2L12 2z"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l2.9 6.1L22 9.3l-5 4.9 1.2 6.8L12 18.8 5.8 21l1.2-6.8L2 9.3l7.1-1.2L12 2z"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l2.9 6.1L22 9.3l-5 4.9 1.2 6.8L12 18.8 5.8 21l1.2-6.8L2 9.3l7.1-1.2L12 2z"/></svg>
          </div>
          <blockquote class="mt-5">
            <p class="text-xl leading-relaxed" id="reviewText">Absolutely spotless. Friendly, on time, and worth every penny.</p>
            <footer class="mt-4 text-white/60" id="reviewAuthor">— Maria G.</footer>
          </blockquote>
          <div class="mt-6 flex items-center gap-2">
            <button id="prevReview" class="px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition">Prev</button>
            <button id="nextReview" class="px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition">Next</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Hours & Location -->
  <section id="hours" class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="grid lg:grid-cols-2 gap-8">
        <div class="rounded-2xl border border-white/10 bg-card-grad p-6">
          <div class="flex items-center justify-between flex-wrap gap-3">
            <div>
              <h2 class="font-serif text-3xl">Hours</h2>
              <p class="text-white/60 text-sm mt-1">Mountain Time (New Mexico)</p>
            </div>
            <span class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/15 text-emerald-300 border border-emerald-500/20" id="openBadge">
              <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
              <span id="openBadgeText">Checking…</span>
            </span>
          </div>

          <div class="mt-5 grid grid-cols-2 sm:grid-cols-3 gap-3">
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Mon</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Tue</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Wed</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Thu</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Fri</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Sat</div><div class="mt-1 font-semibold">8 AM – 7 PM</div></div>
            <div class="rounded-xl bg-white/5 border border-white/10 p-4"><div class="text-white/60 text-xs">Sun</div><div class="mt-1 font-semibold">Closed</div></div>
          </div>

          <div class="mt-4 text-white/70 text-sm" id="openDetail">We’ll confirm your nearest appointment time when you book.</div>
        </div>

        <div class="rounded-2xl border border-white/10 bg-card-grad p-6">
          <h2 class="font-serif text-3xl">Location</h2>
          <p class="text-white/70 mt-2">Serving Albuquerque and nearby communities in New Mexico.</p>
          <div class="mt-5 grid sm:grid-cols-2 gap-4">
            <a class="inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition" href="https://www.google.com/maps/search/?api=1&query=NM+Auto+Details+New+Mexico" target="_blank" rel="noopener">
              <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C8.1 2 5 5.1 5 9c0 5.2 7 13 7 13s7-7.8 7-13c0-3.9-3.1-7-7-7zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5z"/></svg>
              Get Directions
            </a>
            <a id="textUsBtn" class="inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition" href="sms:+15056887487">
              <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M20 2H4a2 2 0 00-2 2v18l4-4h14a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>
              Text Us
            </a>
          </div>
          <div class="mt-5 p-4 rounded-xl bg-black/30 border border-white/10 text-sm text-white/70">
            Phone: <a id="footPhoneLink" class="underline hover:text-white" href="tel:+15056887487">(505) 688-7487</a><br/>
            Hours: Mon–Sat 8 AM–7 PM, Sun Closed
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-16 md:py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="rounded-3xl border border-white/10 bg-gradient-to-r from-white/5 to-white/0 p-6 md:p-10">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h2 class="font-serif text-3xl sm:text-4xl">Get in Touch</h2>
            <p class="text-white/70 mt-2">Book online, call, or send a message. We respond quickly.</p>

            <div class="mt-6 flex flex-wrap items-center gap-3">
              <button class="book-btn inline-flex items-center gap-2 bg-luxe-gold text-black font-semibold px-5 py-3 rounded-full shadow-glow gold-hover transition" data-service="">
                Book Online
              </button>
              <a id="contactCallBtn" href="tel:+15056887487" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/15 hover:bg-white/5 transition">
                Call (505) 688-7487
              </a>
              <a id="contactEmailBtn" href="mailto:info@nmautodetails.com" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/15 hover:bg-white/5 transition">
                Email Us
              </a>
            </div>
          </div>

          <div class="rounded-2xl border border-white/10 bg-white/5 p-5">
            <h3 class="font-bold">Quick Message</h3>
            <form id="quickForm" class="mt-4 space-y-4">
              <div>
                <label class="text-sm text-white/70">Name</label>
                <input required name="name" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="Your name" />
              </div>
              <div>
                <label class="text-sm text-white/70">Phone</label>
                <input required name="phone" type="tel" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="(505) 555-1234" />
              </div>
              <div>
                <label class="text-sm text-white/70">Message</label>
                <textarea name="message" rows="3" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="Tell us about your vehicle…"></textarea>
              </div>
              <button class="w-full bg-luxe-gold text-black font-semibold rounded-xl py-3 hover:opacity-95 transition">Send</button>
              <div class="text-xs text-white/60">You can connect an online form service in the Owner Panel for direct messages.</div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-white/10 py-10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 flex flex-col md:flex-row items-start md:items-center justify-between gap-6">
      <div>
        <div class="font-extrabold" id="footBizName">NM Auto Details</div>
        <div class="text-white/60 text-sm">Premium Auto Detailing • New Mexico</div>
      </div>
      <div class="flex items-center gap-4">
        <a id="footerCallBtn" href="tel:+15056887487" class="px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition">Call</a>
        <a id="footerTextBtn" href="sms:+15056887487" class="px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition">Text</a>
        <a id="footerEmailBtn" href="mailto:info@nmautodetails.com" class="px-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition">Email</a>
      </div>
      <div class="text-white/50 text-xs">
        © <span id="year"></span> NM Auto Details. All rights reserved.
      </div>
    </div>
  </footer>

  <!-- Booking Modal (Embeds or Form) -->
  <div id="bookingModal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60"></div>
    <div class="relative max-w-3xl mx-auto mt-10 sm:mt-20 bg-luxe-ink border border-white/10 rounded-2xl p-0 shadow-2xl overflow-hidden">
      <div class="flex items-center justify-between px-6 py-5 border-b border-white/10">
        <div>
          <h3 class="font-serif text-2xl">Book an Appointment</h3>
          <p class="text-white/60 text-sm" id="bookingSub">We’ll confirm details quickly.</p>
        </div>
        <button id="closeModal" class="m-2 p-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition" aria-label="Close">✕</button>
      </div>

      <!-- Embed -->
      <div id="bookingEmbedWrap" class="hidden">
        <iframe id="bookingEmbed" src="" class="w-full" style="height:70vh" loading="lazy" title="Booking"></iframe>
      </div>

      <!-- Fallback Form -->
      <div id="bookingFormWrap" class="px-6 py-6">
        <form id="bookingForm" class="grid sm:grid-cols-2 gap-4">
          <div class="sm:col-span-2">
            <label class="text-sm text-white/70">Your Name</label>
            <input required name="name" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="Full name" />
          </div>
          <div>
            <label class="text-sm text-white/70">Phone</label>
            <input required name="phone" type="tel" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="(505) 555-1234" />
          </div>
          <div>
            <label class="text-sm text-white/70">Email (optional)</label>
            <input name="email" type="email" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="you@example.com" />
          </div>
          <div>
            <label class="text-sm text-white/70">Service</label>
            <select class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" id="serviceSelect" name="service">
              <option value="">Choose a service</option>
              <option>Exterior Detail</option>
              <option>Interior Detail</option>
              <option>Full Detail</option>
              <option>Express Package</option>
              <option>Full Detail Package</option>
              <option>Premium Package</option>
              <option>Paint Correction</option>
              <option>Ceramic Coating</option>
              <option>Headlight Restoration</option>
            </select>
          </div>
          <div>
            <label class="text-sm text-white/70">Preferred Date</label>
            <input name="date" type="date" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" />
          </div>
          <div class="sm:col-span-2">
            <label class="text-sm text-white/70">Notes</label>
            <textarea name="notes" rows="3" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-luxe-gold/40" placeholder="Vehicle make/model, special requests…"></textarea>
          </div>
          <div class="sm:col-span-2">
            <button class="w-full bg-luxe-gold text-black font-semibold rounded-xl py-3 hover:opacity-95 transition">Send Booking Request</button>
            <div class="text-xs text-white/60 mt-2" id="bookingHint">Tip: Connect your online booking link in the Owner Panel to show it here.</div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Owner access is now hidden. Triple-tap the logo or press Shift+O -->

  <!-- Owner Panel Drawer -->
  <div id="adminDrawer" class="fixed left-0 right-0 bottom-0 z-50 admin-drawer bg-luxe-ink/95 border-t border-white/10 backdrop-glass">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 py-6">
      <div class="flex items-center justify-between">
        <h3 class="font-serif text-2xl">Owner Panel</h3>
        <button id="closeAdmin" class="p-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition">Close</button>
      </div>

      <!-- Simple password gate -->
      <div id="adminGate" class="mt-6 rounded-2xl border border-white/10 bg-white/5 p-5">
        <div class="text-white/80 font-semibold">Enter password to continue</div>
        <div class="mt-3 grid sm:grid-cols-3 gap-3">
          <input id="adminPass" type="password" placeholder="Password" class="sm:col-span-2 w-full bg-black/40 border border-white/10 rounded-xl px-3 py-2" />
          <button id="adminUnlock" class="bg-luxe-gold text-black font-semibold rounded-xl py-2.5 hover:opacity-95 transition">Unlock</button>
        </div>
        <div class="text-xs text-white/60 mt-2">Hint: Ask the owner if you should have access.</div>
      </div>

      <div id="adminContent" class="grid md:grid-cols-3 gap-6 mt-6 hidden">
        <!-- Business Settings -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5">
          <h4 class="font-bold">Business Info</h4>
          <div class="mt-3 space-y-3 text-sm">
            <div>
              <label class="text-white/70">Name</label>
              <input id="setName" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2" placeholder="NM Auto Details" />
            </div>
            <div>
              <label class="text-white/70">Phone</label>
              <input id="setPhone" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2" placeholder="(505) 688-7487" />
            </div>
            <div>
              <label class="text-white/70">Email</label>
              <input id="setEmail" type="email" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2" placeholder="info@nmautodetails.com" />
            </div>
            <button id="saveBusiness" class="w-full bg-luxe-gold text-black font-semibold rounded-xl py-2.5 hover:opacity-95 transition">Save Info</button>
          </div>
        </div>

        <!-- Booking Settings -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5">
          <h4 class="font-bold">Booking</h4>
          <div class="mt-3 space-y-3 text-sm">
            <div>
              <label class="text-white/70">Booking Link (Calendly, Setmore, etc.)</label>
              <input id="setBookingLink" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2" placeholder="https://calendly.com/yourlink" />
            </div>
            <label class="flex items-center gap-2 text-sm">
              <input id="setEmbed" type="checkbox" class="accent-luxe-gold">
              Try to show booking inside the site
            </label>
            <div class="text-xs text-white/60">If a link doesn’t allow embedding, it will open in a new tab.</div>
            <button id="saveBooking" class="w-full bg-luxe-gold text-black font-semibold rounded-xl py-2.5 hover:opacity-95 transition">Save Booking</button>
          </div>
        </div>

        <!-- Messages Settings -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5">
          <h4 class="font-bold">Messages</h4>
          <div class="mt-3 space-y-3 text-sm">
            <div>
              <label class="text-white/70">Optional Form Endpoint</label>
              <input id="setFormEndpoint" class="w-full mt-1 bg-black/40 border border-white/10 rounded-xl px-3 py-2" placeholder="e.g., https://formspree.io/f/xxxx" />
            </div>
            <div class="text-xs text-white/60">
              Use a service like Formspree / Formspark / SheetMonkey. If not set, emails open in your mail app.
            </div>
            <button id="saveForms" class="w-full bg-luxe-gold text-black font-semibold rounded-xl py-2.5 hover:opacity-95 transition">Save Messages</button>
          </div>
        </div>

        <!-- Hero Image -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5 md:col-span-2">
          <h4 class="font-bold">Hero Image</h4>
          <div class="mt-3 space-y-3 text-sm">
            <input type="file" id="uploadHero" accept="image/*" class="block w-full text-white/80" />
            <button id="clearHero" class="w-full bg-white/10 hover:bg-white/20 border border-white/10 rounded-xl py-2.5 transition">Remove Hero Image</button>
          </div>
        </div>

        <!-- Gallery Manager -->
        <div class="rounded-2xl border border-white/10 bg-white/5 p-5 md:col-span-3">
          <h4 class="font-bold">Gallery</h4>
          <div class="mt-3 space-y-3 text-sm">
            <input type="file" id="uploadGallery" accept="image/*" multiple class="block w-full text-white/80" />
            <div id="galleryManager" class="grid sm:grid-cols-3 gap-3 mt-2">
              <!-- Thumbs render here -->
            </div>
            <div class="flex items-center gap-2">
              <button id="clearGallery" class="flex-1 bg-white/10 hover:bg-white/20 border border-white/10 rounded-xl py-2.5 transition">Clear Gallery</button>
              <button id="saveEverything" class="flex-1 bg-luxe-gold text-black font-semibold rounded-xl py-2.5 hover:opacity-95 transition">Save All</button>
            </div>
            <div class="text-xs text-white/60">Images are saved in your browser. When publishing, add them again on your live site if needed.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-white/10 border border-white/15 rounded-xl px-4 py-2 text-sm hidden">Done!</div>

  <script>
    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href');
        if(id.length>1 && document.querySelector(id)){
          e.preventDefault();
          document.querySelector(id).scrollIntoView({behavior:'smooth',block:'start'});
        }
      })
    });

    // Mobile menu
    const menuToggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    if (menuToggle) menuToggle.addEventListener('click', ()=> mobileMenu.classList.toggle('hidden'));

    // Copy phone
    const toast = document.getElementById('toast');
    function showToast(msg){ toast.textContent = msg; toast.classList.remove('hidden'); setTimeout(()=>toast.classList.add('hidden'), 1800); }
    const copyBtn = document.getElementById('copyPhone');
    if (copyBtn) copyBtn.addEventListener('click', async ()=>{
      try { await navigator.clipboard.writeText((window.site?.phone) || '(505) 688-7487'); showToast('Phone number copied!'); }
      catch(e){ showToast('Copy not supported on this device'); }
    });

    // Reviews
    const reviews = [
      { text: "Absolutely spotless. Friendly, on time, and worth every penny.", author: "— Maria G." },
      { text: "Interior looks brand new. Stains I thought were permanent are gone.", author: "— Daniel P." },
      { text: "Easy to book, super professional, and the shine lasts.", author: "— Alicia R." },
    ];
    let idx = 0;
    const reviewText = document.getElementById('reviewText');
    const reviewAuthor = document.getElementById('reviewAuthor');
    const prevBtn = document.getElementById('prevReview');
    const nextBtn = document.getElementById('nextReview');
    function setReview(i){ const r = reviews[i]; reviewText.textContent = r.text; reviewAuthor.textContent = r.author; }
    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', ()=>{ idx = (idx - 1 + reviews.length) % reviews.length; setReview(idx); });
      nextBtn.addEventListener('click', ()=>{ idx = (idx + 1) % reviews.length; setReview(idx); });
    }

    // Open/Closed (New Mexico — Mountain Time)
    const businessHours = [
      { day: 'Sunday', open: null, close: null },
      { day: 'Monday', open: 8*60, close: 19*60 },
      { day: 'Tuesday', open: 8*60, close: 19*60 },
      { day: 'Wednesday', open: 8*60, close: 19*60 },
      { day: 'Thursday', open: 8*60, close: 19*60 },
      { day: 'Friday', open: 8*60, close: 19*60 },
      { day: 'Saturday', open: 8*60, close: 19*60 },
    ];
    const tz = 'America/Denver';
    function getNowMT(){
      const now = new Date();
      const parts = new Intl.DateTimeFormat('en-US', { timeZone: tz, hour12: false, weekday: 'long', hour: '2-digit', minute: '2-digit'}).formatToParts(now);
      const map = Object.fromEntries(parts.map(p=>[p.type, p.value]));
      const weekday = map.weekday;
      const hour = parseInt(map.hour, 10);
      const minute = parseInt(map.minute, 10);
      const dayIndex = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'].indexOf(weekday);
      return { dayIndex, minutes: hour*60 + minute, weekday };
    }
    function formatTime(mins){
      const h24 = Math.floor(mins/60);
      const m = mins%60;
      const ampm = h24 >= 12 ? 'PM' : 'AM';
      const h12 = h24 % 12 === 0 ? 12 : h24 % 12;
      return `${h12}:${m.toString().padStart(2,'0')} ${ampm}`;
    }
    function nextOpen(fromDay){
      for (let offset = 0; offset < 7; offset++){
        const d = (fromDay + offset) % 7;
        const e = businessHours[d];
        if (e.open !== null) return { dayIndex: d, minutes: e.open };
      }
      return null;
    }
    function updateOpenStatus(){
      const { dayIndex, minutes } = getNowMT();
      const today = businessHours[dayIndex];
      const openPill = document.getElementById('openPill');
      const openText = document.getElementById('openText');
      const badge = document.getElementById('openBadge');
      const badgeText = document.getElementById('openBadgeText');
      const detail = document.getElementById('openDetail');

      let isOpen = false;
      let message = '';
      if (today.open !== null){
        if (minutes >= today.open && minutes < today.close){
          isOpen = true;
          message = `Open now • until ${formatTime(today.close)}`;
        } else if (minutes < today.open){
          message = `Opens today • ${formatTime(today.open)}`;
        } else {
          const n = nextOpen((dayIndex+1)%7);
          const names = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
          message = n ? `Closed • opens ${names[n.dayIndex]} ${formatTime(n.minutes)}` : 'Closed';
        }
      } else {
        const n = nextOpen((dayIndex+1)%7);
        const names = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
        message = n ? `Closed • opens ${names[n.dayIndex]} ${formatTime(n.minutes)}` : 'Closed';
      }

      if (isOpen){
        openPill.classList.remove('bg-rose-500/20','text-rose-300');
        openPill.classList.add('bg-emerald-500/20','text-emerald-300');
        badge.classList.remove('bg-rose-500/15','text-rose-300','border-rose-500/20');
        badge.classList.add('bg-emerald-500/15','text-emerald-300','border-emerald-500/20');
        openText.textContent = message; badgeText.textContent = message;
        detail.textContent = 'We’re currently open. Book now or call and we’ll confirm your time.';
      } else {
        openPill.classList.remove('bg-emerald-500/20','text-emerald-300');
        openPill.classList.add('bg-rose-500/20','text-rose-300');
        badge.classList.remove('bg-emerald-500/15','text-emerald-300','border-emerald-500/20');
        badge.classList.add('bg-rose-500/15','text-rose-300','border-rose-500/20');
        openText.textContent = message; badgeText.textContent = message;
        detail.textContent = 'We’re currently closed. Please book a time or leave a message—we’ll get back to you.';
      }
    }
    updateOpenStatus(); setInterval(updateOpenStatus, 60000);

    // Booking logic
    const modal = document.getElementById('bookingModal');
    const body = document.body;
    const embedWrap = document.getElementById('bookingEmbedWrap');
    const bookingEmbed = document.getElementById('bookingEmbed');
    const bookingFormWrap = document.getElementById('bookingFormWrap');
    const bookingHint = document.getElementById('bookingHint');
    function openModal(){ modal.classList.remove('hidden'); body.classList.add('no-scroll'); }
    function closeModal(){ modal.classList.add('hidden'); body.classList.remove('no-scroll'); }
    document.getElementById('closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target === modal.firstElementChild) closeModal(); });

    // Site settings (stored locally)
    const defaultSettings = {
      name: 'NM Auto Details',
      phone: '(505) 688-7487',
      email: 'info@nmautodetails.com',
      bookingLink: '',
      embed: false,
      formEndpoint: '',
      hero: '', // dataURL
      gallery: [] // array of dataURLs
    };
    function loadSettings(){
      try { const s = JSON.parse(localStorage.getItem('nm_site')||'{}'); return { ...defaultSettings, ...s }; }
      catch(e){ return { ...defaultSettings }; }
    }
    function saveSettings(s){ localStorage.setItem('nm_site', JSON.stringify(s)); }
    window.site = loadSettings();

    // Apply settings to page
    function applyBusinessInfo(){
      document.getElementById('bizName').textContent = window.site.name;
      document.getElementById('footBizName').textContent = window.site.name;

      const tel = 'tel:' + window.site.phone.replace(/[^\d+]/g,'');
      const sms = 'sms:' + window.site.phone.replace(/[^\d+]/g,'');

      document.getElementById('topPhoneLink').textContent = 'Call: ' + window.site.phone;
      document.getElementById('topPhoneLink').href = tel;
      document.getElementById('headerCallBtn').href = tel;
      document.getElementById('heroCallBtn').href = tel;
      document.getElementById('contactCallBtn').href = tel;
      document.getElementById('footPhoneLink').textContent = window.site.phone;
      document.getElementById('footPhoneLink').href = tel;
      document.getElementById('footerCallBtn').href = tel;
      document.getElementById('footerTextBtn').href = sms;
      document.getElementById('textUsBtn').href = sms;

      document.getElementById('contactEmailBtn').href = 'mailto:'+window.site.email;
      document.getElementById('footerEmailBtn').href = 'mailto:'+window.site.email;
    }
    function applyHero(){
      const heroDiv = document.getElementById('heroImage');
      if (window.site.hero){
        heroDiv.style.backgroundImage = `url('${window.site.hero}')`;
      } else {
        heroDiv.style.backgroundImage = '';
      }
    }
    function renderGallery(){
      const grid = document.getElementById('galleryGrid');
      grid.innerHTML = '';
      if (!window.site.gallery || window.site.gallery.length === 0){
        // Show 3 elegant placeholders if no images
        for (let i=0;i<3;i++){
          const card = document.createElement('div');
          card.className = 'rounded-2xl border border-white/10 overflow-hidden bg-white/5';
          card.innerHTML = `<div class="aspect-[16/10] flex items-center justify-center">
            <svg viewBox="0 0 900 560" class="w-full h-full"><rect width="900" height="560" fill="#0b1020"/>
            <rect x="140" y="200" width="620" height="200" rx="20" fill="#111827"/>
            <circle cx="300" cy="420" r="28" fill="#1f2937"/><circle cx="600" cy="420" r="28" fill="#1f2937"/></svg></div>`;
          grid.appendChild(card);
        }
        return;
      }
      window.site.gallery.forEach(src=>{
        const card = document.createElement('div');
        card.className = 'rounded-2xl border border-white/10 overflow-hidden bg-white/5';
        card.innerHTML = `<div class="aspect-[16/10] hero-img" style="background-image:url('${src}')"></div>`;
        grid.appendChild(card);
      });
    }
    function renderGalleryManager(){
      const wrap = document.getElementById('galleryManager');
      wrap.innerHTML = '';
      (window.site.gallery || []).forEach((src, i)=>{
        const item = document.createElement('div');
        item.className = 'relative rounded-xl overflow-hidden border border-white/10 bg-white/5';
        item.innerHTML = `
          <div class="aspect-[16/10] hero-img" style="background-image:url('${src}')"></div>
          <div class="absolute top-2 right-2 flex gap-1">
            <button data-i="${i}" data-act="up" class="px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded">↑</button>
            <button data-i="${i}" data-act="down" class="px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded">↓</button>
            <button data-i="${i}" data-act="del" class="px-2 py-1 text-xs bg-rose-500/70 hover:bg-rose-500 rounded">✕</button>
          </div>
        `;
        wrap.appendChild(item);
      });
      wrap.querySelectorAll('button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const i = parseInt(btn.getAttribute('data-i'),10);
          const act = btn.getAttribute('data-act');
          if (act==='del'){ window.site.gallery.splice(i,1); }
          if (act==='up' && i>0){ const t = window.site.gallery[i-1]; window.site.gallery[i-1]=window.site.gallery[i]; window.site.gallery[i]=t; }
          if (act==='down' && i<window.site.gallery.length-1){ const t = window.site.gallery[i+1]; window.site.gallery[i+1]=window.site.gallery[i]; window.site.gallery[i]=t; }
          saveSettings(window.site); renderGallery(); renderGalleryManager();
        });
      });
    }

    // Owner Panel access: triple-tap logo or Shift+O
    const adminDrawer = document.getElementById('adminDrawer');
    const closeAdmin = document.getElementById('closeAdmin');
    const secretLogo = document.getElementById('secretLogo');
    let tapCount = 0, tapTimer = null;
    function openAdmin(){ adminDrawer.classList.add('open'); }
    function closeAdminFn(){ adminDrawer.classList.remove('open'); }
    closeAdmin.addEventListener('click', closeAdminFn);
    if (secretLogo){
      secretLogo.addEventListener('click', ()=>{
        tapCount++; clearTimeout(tapTimer);
        tapTimer = setTimeout(()=>{ tapCount=0; }, 450);
        if (tapCount>=3){ tapCount=0; openAdmin(); }
      });
    }
    document.addEventListener('keydown', (e)=>{ if (e.shiftKey && (e.key==='O' || e.key==='o')) openAdmin(); });

    // Password gate
    const adminGate = document.getElementById('adminGate');
    const adminContent = document.getElementById('adminContent');
    const adminUnlock = document.getElementById('adminUnlock');
    const adminPass = document.getElementById('adminPass');
    function unlockIfValid(){
      if ((adminPass.value||'').trim() === 'nmautodetails'){
        adminGate.classList.add('hidden');
        adminContent.classList.remove('hidden');
      } else {
        adminPass.value='';
        adminPass.placeholder='Incorrect, try again';
      }
    }
    adminUnlock.addEventListener('click', unlockIfValid);
    adminPass.addEventListener('keypress', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); unlockIfValid(); }});

    // Populate settings inputs
    document.getElementById('setName').value = window.site.name;
    document.getElementById('setPhone').value = window.site.phone;
    document.getElementById('setEmail').value = window.site.email;
    document.getElementById('setBookingLink').value = window.site.bookingLink;
    document.getElementById('setEmbed').checked = !!window.site.embed;
    document.getElementById('setFormEndpoint').value = window.site.formEndpoint;

    // Save buttons
    document.getElementById('saveBusiness').addEventListener('click', ()=>{
      window.site.name = document.getElementById('setName').value || defaultSettings.name;
      window.site.phone = document.getElementById('setPhone').value || defaultSettings.phone;
      window.site.email = document.getElementById('setEmail').value || defaultSettings.email;
      saveSettings(window.site); applyBusinessInfo(); showToast('Business info saved');
    });
    document.getElementById('saveBooking').addEventListener('click', ()=>{
      window.site.bookingLink = document.getElementById('setBookingLink').value.trim();
      window.site.embed = document.getElementById('setEmbed').checked;
      saveSettings(window.site); showToast('Booking settings saved');
    });
    document.getElementById('saveForms').addEventListener('click', ()=>{
      window.site.formEndpoint = document.getElementById('setFormEndpoint').value.trim();
      saveSettings(window.site); showToast('Message settings saved');
    });

    // Image uploads
    document.getElementById('uploadHero').addEventListener('change', async (e)=>{
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = ()=> {
        window.site.hero = reader.result;
        saveSettings(window.site); applyHero(); showToast('Hero image updated');
      };
      reader.readAsDataURL(file);
    });
    document.getElementById('clearHero').addEventListener('click', ()=>{
      window.site.hero = ''; saveSettings(window.site); applyHero(); showToast('Hero image removed');
    });
    document.getElementById('uploadGallery').addEventListener('change', async (e)=>{
      const files = Array.from(e.target.files || []);
      if (files.length === 0) return;
      const readFile = (f)=> new Promise(res=>{ const r=new FileReader(); r.onload=()=>res(r.result); r.readAsDataURL(f); });
      for (const f of files){
        const data = await readFile(f);
        window.site.gallery.push(data);
      }
      saveSettings(window.site); renderGallery(); renderGalleryManager(); showToast('Gallery updated');
      e.target.value = '';
    });
    document.getElementById('clearGallery').addEventListener('click', ()=>{
      window.site.gallery = []; saveSettings(window.site); renderGallery(); renderGalleryManager(); showToast('Gallery cleared');
    });
    document.getElementById('saveEverything').addEventListener('click', ()=>{
      saveSettings(window.site); showToast('All changes saved');
    });

    // Apply settings initially
    applyBusinessInfo(); applyHero(); renderGallery(); renderGalleryManager();

    // Book buttons behavior
    function handleBookOpen(selectedService=''){
      if (window.site.bookingLink){
        if (window.site.embed){
          // Try to embed
          bookingEmbed.src = window.site.bookingLink;
          embedWrap.classList.remove('hidden');
          bookingFormWrap.classList.add('hidden');
          bookingHint.classList.add('hidden');
        } else {
          window.open(window.site.bookingLink, '_blank');
          return; // do not open modal if opening new tab
        }
      } else {
        // Show fallback form
        embedWrap.classList.add('hidden');
        bookingFormWrap.classList.remove('hidden');
        bookingHint.classList.remove('hidden');
      }
      // Preselect service if provided
      const select = document.getElementById('serviceSelect');
      if (selectedService && select){
        [...select.options].forEach(o=>{ o.selected = (o.textContent.trim() === selectedService.trim()); });
      }
      openModal();
    }
    document.querySelectorAll('.book-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const service = btn.getAttribute('data-service') || '';
        handleBookOpen(service);
      });
    });

    // Booking form submission: send via optional endpoint or mailto
    document.getElementById('bookingForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const fd = new FormData(e.target);
      const data = Object.fromEntries(fd.entries());
      let sent = false;
      if (window.site.formEndpoint){
        try {
          const r = await fetch(window.site.formEndpoint, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ type:'booking', ...data }) });
          if (r.ok) sent = true;
        } catch(_) {}
      }
      if (!sent){
        // mailto fallback
        const subject = encodeURIComponent('Booking Request');
        const body = encodeURIComponent(
          `Name: ${data.name}\nPhone: ${data.phone}\nEmail: ${data.email||''}\nService: ${data.service||''}\nDate: ${data.date||''}\nNotes: ${data.notes||''}`
        );
        window.location.href = `mailto:${window.site.email}?subject=${subject}&body=${body}`;
      }
      closeModal();
      showToast('Thanks! We’ll be in touch to confirm.');
      e.target.reset();
    });

    // Quick message submission
    document.getElementById('quickForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const fd = new FormData(e.target);
      const data = Object.fromEntries(fd.entries());
      let sent = false;
      if (window.site.formEndpoint){
        try {
          const r = await fetch(window.site.formEndpoint, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ type:'message', ...data }) });
          if (r.ok) sent = true;
        } catch(_) {}
      }
      if (!sent){
        const subject = encodeURIComponent('New Message from Website');
        const body = encodeURIComponent(`Name: ${data.name}\nPhone: ${data.phone}\nMessage: ${data.message||''}`);
        window.location.href = `mailto:${window.site.email}?subject=${subject}&body=${body}`;
      }
      showToast('Message sent! We’ll reply soon.');
      e.target.reset();
    });

    // Quick Quote Estimator
    const qqService = document.getElementById('qqService');
    const qqType = document.getElementById('qqType');
    const qqCondition = document.getElementById('qqCondition');
    const qqPrice = document.getElementById('qqPrice');
    const qqTime = document.getElementById('qqTime');
    function calcQuote(){
      const service = qqService.value;
      const type = qqType.value;
      const cond = qqCondition.value;
      const addChecks = Array.from(document.querySelectorAll('[data-add]:checked'));
      // Base prices
      const baseMap = {
        'Exterior Detail': { Sedan: 99, SUV: 119, Truck: 129, Van: 129 },
        'Interior Detail': { Sedan: 129, SUV: 149, Truck: 159, Van: 159 },
        'Full Detail': { Sedan: 219, SUV: 259, Truck: 279, Van: 279 },
      };
      let price = baseMap[service][type];
      // Condition multiplier
      const mult = cond==='Clean'? 1 : cond==='Average'? 1.15 : 1.35;
      price = Math.round(price * mult);
      // Add-ons
      let addons = 0;
      addChecks.forEach(c=> addons += parseInt(c.value,10));
      price += addons;
      // Time estimate (rough)
      let time = service==='Full Detail'? 4 : 2.5;
      time *= (cond==='Clean'?1 : cond==='Average'?1.15:1.3);
      if (addChecks.length>0) time += addChecks.length*0.3;
      qqPrice.textContent = `$${price}`;
      qqTime.textContent = `Estimated time: ${Math.round(time*10)/10} hrs`;
      return { service, type, cond, addons: addChecks.map(c=>c.getAttribute('data-add')), price, time };
    }
    ['change','input'].forEach(ev=>{
      document.getElementById('quote').addEventListener(ev, (e)=>{
        if (e.target.matches('#qqService, #qqType, #qqCondition, [data-add]')) calcQuote();
      });
    });
    calcQuote();
    document.getElementById('applyToBooking').addEventListener('click', ()=>{
      const q = calcQuote();
      handleBookOpen(q.service);
      const notes = `Quick Quote:\nService: ${q.service}\nType: ${q.type}\nCondition: ${q.cond}\nAdd-ons: ${q.addons.join(', ')||'None'}\nEst. Price: $${q.price}\nEst. Time: ${Math.round(q.time*10)/10} hrs`;
      setTimeout(()=>{
        const notesEl = document.querySelector('#bookingForm [name="notes"]');
        if (notesEl) notesEl.value = notes + '\n\n';
      }, 50);
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c39cccc06eacf0',t:'MTc1NDcwNDMyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
